<!DOCTYPE html><html lang="en-us"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>A GVPR Program Transforming Org Chart - Graph Galaxy</title><meta name="description" content="In Graph Galaxy 13.0, the document can take a GVPR program to transform the graph. I played the feature a little with the use case&hellip;"><meta name="generator" content="Publii Open-Source CMS for Static Site"><link rel="canonical" href="https://blog.graphgalaxy.com/a-gvpr-program-transforming-org-chart.html"><link rel="alternate" type="application/atom+xml" href="https://blog.graphgalaxy.com/feed.xml"><link rel="alternate" type="application/json" href="https://blog.graphgalaxy.com/feed.json"><meta property="og:title" content="A GVPR Program Transforming Org Chart"><meta property="og:image" content="https://blog.graphgalaxy.com/media/website/icon.png"><meta property="og:image:width" content="256"><meta property="og:image:height" content="256"><meta property="og:site_name" content="Graph Galaxy"><meta property="og:description" content="In Graph Galaxy 13.0, the document can take a GVPR program to transform the graph. I played the feature a little with the use case&hellip;"><meta property="og:url" content="https://blog.graphgalaxy.com/a-gvpr-program-transforming-org-chart.html"><meta property="og:type" content="article"><link rel="preload" href="https://blog.graphgalaxy.com/assets/dynamic/fonts/jetbrainsmono/jetbrainsmono.woff2" as="font" type="font/woff2" crossorigin><link rel="stylesheet" href="https://blog.graphgalaxy.com/assets/css/style.css?v=73cdeec2f44d9370d162c06422981558"><script type="application/ld+json">{"@context":"http://schema.org","@type":"Article","mainEntityOfPage":{"@type":"WebPage","@id":"https://blog.graphgalaxy.com/a-gvpr-program-transforming-org-chart.html"},"headline":"A GVPR Program Transforming Org Chart","datePublished":"2024-01-14T18:24","dateModified":"2024-01-14T19:07","image":{"@type":"ImageObject","url":"https://blog.graphgalaxy.com/media/website/icon.png","height":256,"width":256},"description":"In Graph Galaxy 13.0, the document can take a GVPR program to transform the graph. I played the feature a little with the use case&hellip;","author":{"@type":"Person","name":"Tianyong Tang","url":"https://blog.graphgalaxy.com/authors/tianyong-tang/"},"publisher":{"@type":"Organization","name":"Tianyong Tang","logo":{"@type":"ImageObject","url":"https://blog.graphgalaxy.com/media/website/icon.png","height":256,"width":256}}}</script><noscript><style>img[loading] {
                    opacity: 1;
                }</style></noscript></head><body><div class="container container--center"><header class="header"><div class="header__logo"><a class="logo" href="https://blog.graphgalaxy.com/"><img src="https://blog.graphgalaxy.com/media/website/icon.png" alt="Graph Galaxy" width="256" height="256"></a></div></header><main class="content"><article class="post"><header><h1 class="post__title">A GVPR Program Transforming Org Chart</h1><div class="post__meta"><time datetime="2024-01-14T18:24" class="post__date">January 14, 2024 </time><span class="post__author"><a href="https://blog.graphgalaxy.com/authors/tianyong-tang/" class="feed__author">Tianyong Tang</a></span></div></header><div class="post__entry"><p>In <a href="https://apps.apple.com/app/graph-galaxy-visual-thinking/id1473722262" target="_blank" rel="noopener noreferrer">Graph Galaxy</a> 13.0, the document can take a GVPR program to transform the graph. I played the feature a little with the use case - count descendent nodes in a tree. The use case is interesting as it can be easily applied to the real world, like counting the members under a manager in org.</p><p>Let's take a quick look with a screenshot:</p><figure class="post__image"><img loading="lazy" src="https://blog.graphgalaxy.com/media/posts/6/Org-Chart.png" alt="" width="3010" height="1906" sizes="(min-width: 920px) 703px, (min-width: 700px) calc(82vw - 35px), calc(100vw - 81px)" srcset="https://blog.graphgalaxy.com/media/posts/6/responsive/Org-Chart-xs.png 300w, https://blog.graphgalaxy.com/media/posts/6/responsive/Org-Chart-sm.png 480w, https://blog.graphgalaxy.com/media/posts/6/responsive/Org-Chart-md.png 768w, https://blog.graphgalaxy.com/media/posts/6/responsive/Org-Chart-lg.png 1024w"></figure><p>The GVPR program in bottom-left window transforms the above graph into another representation shown in bottom-right window. The program iterates each node and count its descendants, then shows the number in node.</p><p>Of course the program can be optimized further like eliminating the duplicated calculations by using a single pass of DFS to count descendants for all nodes. The program also doesn't handle structures like multiple parents and circular reference that are invalid for org chart. It shows the fundamentals - walk through the structure, access the node property, and finally format the result into node label.</p><p>With this set-up, the graph becomes dynamic with the transformation you assigned. Whenever you make a change in original graph, the program will run again and transform the new graph for you, reflecting the new number of people someone manages in the org.</p><p>This program also shows a limitation of GVPR program. As you may already realized - it doesn't support recursive function call. Seems to be that the context of a function call will be overwritten by next run of the same function without stack support. That's why the function <code>count_descendants</code> is implemented in non-recursive approach.</p><p>The <a href="https://www.graphviz.org/pdf/gvpr.1.pdf" target="_blank" rel="noopener noreferrer">GVPR manual</a> lists some known issues. We should read about it and avoid the pitfalls when writing GVPR program.</p></div><footer class="wrapper post__footer"><div class="post__share"></div></footer><nav class="pagination"><div class="pagination__title"><span>Read other posts</span></div><div class="pagination__buttons"><a href="https://blog.graphgalaxy.com/pipeline-graph-to-gvpr.html" class="btn previous" rel="prev" aria-label="[MISSING TRANSLATION]:  Process Graph by GVPR "><span class="btn__icon">←</span> <span class="btn__text">Process Graph by GVPR</span></a></div></nav></article></main><footer class="footer"><div class="footer__inner"><div class="footer__copyright"><p>© 2024 Graph Galaxy. Powered by Publii CMS</p></div></div></footer></div><script defer="defer" src="https://blog.graphgalaxy.com/assets/js/scripts.min.js?v=74fad06980c30243d91d72c7c57fcdb8"></script><script>window.publiiThemeMenuConfig={mobileMenuMode:'sidebar',animationSpeed:300,submenuWidth: 'auto',doubleClickTime:500,mobileMenuExpandableSubmenus:true,relatedContainerForOverlayMenuSelector:'.top'};</script><script>var images = document.querySelectorAll('img[loading]');
        for (var i = 0; i < images.length; i++) {
            if (images[i].complete) {
                images[i].classList.add('is-loaded');
            } else {
                images[i].addEventListener('load', function () {
                    this.classList.add('is-loaded');
                }, false);
            }
        }</script></body></html>